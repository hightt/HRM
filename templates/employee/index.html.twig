{% extends 'main.html.twig' %}

{% block title %}Lista pracowników{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" rel="stylesheet">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>
	<h2>Lista pracowników</h2>

	<table id="main-table" class="table text-left">
		<thead>
			<tr>
				<th>Imię</th>
				<th>Nazwisko</th>
				<th>Stanowisko</th>
				<th></th>
			</tr>
		</thead>
	</table>

<script>
$(document).ready(function () {
    var table = $('#main-table').DataTable({
        processing: true,
        serverSide: true,
        ajax: '{{ path("app_employee_list") }}',
        columns: [
            { data: 'firstName' },
            { data: 'lastName' },
            { data: 'position' },
            {
                data: 'editUrl',
                render: function (data, type, row) {
                    return '<a href="' + data + '" class="btn btn-primary">Edytuj</a>';
                }
            }

        ],
        language: {
            paginate: {
                next: 'Następna',
                previous: 'Poprzednia'
            },
            search: 'Wyszukaj',
            lengthMenu: 'Pokaż _MENU_ wpisów na stronę', 
            info: 'Pokazuje _START_ do _END_ z _TOTAL_ wpisów',
            infoEmpty: 'Brak wpisów do wyświetlenia',
            infoFiltered: '(filtrowanie z _MAX_ wpisów)',
            zeroRecords: 'Brak wyników'
        },
    });
});
</script>
{% endblock %}
